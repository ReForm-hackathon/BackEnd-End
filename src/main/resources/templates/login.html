<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Login</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        body { font-family: system-ui, sans-serif; max-width: 420px; margin: 40px auto; padding: 0 16px; }
        h1 { font-size: 20px; }
        form { display: grid; gap: 8px; margin-bottom: 16px; }
        input, button, a.btn { padding: 10px 12px; font-size: 14px; }
        .buttons { display: grid; gap: 8px; }
        .muted { font-size: 12px; color: #666; }
        a.btn { display: block; text-align: center; text-decoration: none; color: white; background: #2d6cdf; border-radius: 6px; }
        a.kakao { background: #fee500; color: #000; }
        a.naver { background: #03c75a; }
        a.google { background: #4285F4; }
    </style>
    <script>
        async function submitLocalLogin(ev) {
            ev.preventDefault();
            const payload = {
                userId: ev.target.userId.value,
                password: ev.target.password.value
            };
            const res = await fetch('/login', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
            if (res.ok) {
                alert('로그인 성공');
                window.location.href = '/';
            } else {
                alert('아이디 또는 비밀번호가 올바르지 않습니다.');
            }
        }
    </script>
</head>
<body>
<h1>로그인</h1>

<form onsubmit="submitLocalLogin(event)">
    <input name="userId" placeholder="아이디" required />
    <input name="password" placeholder="비밀번호" type="password" required />
    <button type="submit">로그인</button>
</form>

<div class="buttons">
    <a class="btn google" href="/oauth2/authorization/google">Google 로그인</a>
    <a class="btn kakao" href="/oauth2/authorization/kakao">Kakao 로그인</a>
    <a class="btn naver" href="/oauth2/authorization/naver">Naver 로그인</a>
</div>

<p class="muted">계정이 없으신가요? <a href="/register">회원가입</a></p>

</body>
</html>

